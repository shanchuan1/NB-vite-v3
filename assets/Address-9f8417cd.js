import{_ as u,u as m,G as p,a as f,o as h,O as _,t as A,e as l,b as g,c as y,f as c,d as I}from"./index-50a67697.js";import{s as v}from"./SimpleHeader-24c54a75.js";const N={setup(){const s=m(),t=p(),d=f({chosenAddressId:"1",list:[],from:t.query.from||""});h(async()=>{const{data:o}=await _();if(!o.length){d.list=[];return}d.list=o.map(e=>({id:e.addressId,name:e.userName,tel:e.userPhone,address:`${e.provinceName} ${e.cityName} ${e.regionName} ${e.detailAddress}`,isDefault:!!e.defaultFlag})),d.chosenAddressId=Number(t.query.id)});const a=()=>{s.push({path:"/address-edit",query:{type:"add",from:d.from}})},r=o=>{s.push({path:"/address-edit",query:{type:"edit",addressId:o.id,from:d.from}})},n=o=>{s.push({path:"/create-order",query:{addressId:o.id,from:d.from}})};return{...A(d),onAdd:a,onEdit:r,select:n}},components:{sHeader:v}},b={class:"address-box"},q={class:"address-item"};function E(s,t,d,a,r,n){const o=l("s-header"),e=l("van-address-list");return g(),y("div",b,[c(o,{title:"地址管理"}),I("div",q,[c(e,{modelValue:s.chosenAddressId,"onUpdate:modelValue":t[0]||(t[0]=i=>s.chosenAddressId=i),list:s.list,"disabled-list":s.disabledList,"default-tag-text":"默认",onAdd:a.onAdd,onEdit:a.onEdit,onSelect:a.select},null,8,["modelValue","list","disabled-list","onAdd","onEdit","onSelect"])])])}const B=u(N,[["render",E]]);export{B as default};
